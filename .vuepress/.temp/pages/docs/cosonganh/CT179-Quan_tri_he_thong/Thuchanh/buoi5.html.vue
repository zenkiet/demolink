<template><h1 id="samba-dns-va-firewall" tabindex="-1"><a class="header-anchor" href="#samba-dns-va-firewall" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-46-11-icons8-dns.png" alt="icons8-dns.png"><code>SAMBA</code>, <code>DNS</code> vÃ  <code>Firewall</code> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-45-59-icons8-firewall.png" alt="icons8-firewall.png"></h1>
<h2 id="_1-cai-Ä‘at-centos" tabindex="-1"><a class="header-anchor" href="#_1-cai-Ä‘at-centos" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/11-13-29-34-icons8-centos.png" alt="icons8-centos.png" width="40"> 1. CÃ i Ä‘áº·t CentOS</h2>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 1.1</strong> Thá»±c hiá»‡n cÃ i Ä‘áº·t <code>CentOS 6</code> (<em>hoáº·c <code>CentOS 7</code>, <code>8</code></em>) vÃ o mÃ¡y tÃ­nh cÃ¡ nhÃ¢n (<em>hoáº·c mÃ¡y áº£o</em>)</p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>Link file ISO <a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">CentOS 8<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 1.2</strong> CÃ i Ä‘áº·t dá»‹ch vá»¥ <code>Web Server</code> trÃªn mÃ¡y áº£o. Táº¡o má»™t trang web Ä‘Æ¡n giáº£n <code>index.html</code> lÆ°u vÃ o thÆ° má»¥c <code>/var/www/html/myweb</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>ÄÃ£ lÃ m trong bÃ i thá»±c hÃ nh <a href="https://github.com/Zenfection/CTU/blob/main/HocPhan/CT179-Quan_tri_he_thong/Thuchanh/buoi4.md" target="_blank" rel="noopener noreferrer">Buá»•i 4<OutboundLink/></a></p>
</details>
<hr>
<h2 id="_2-cai-Ä‘at-va-cau-hinh-samba" tabindex="-1"><a class="header-anchor" href="#_2-cai-Ä‘at-va-cau-hinh-samba" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-49-34-linux_windows.png" alt="linux_windows.png" width="40"> 2. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh <code>SAMBA</code></h2>
<p><code>Samba</code> lÃ  dá»‹ch vá»¥ chia sáº» <code>file</code> giá»¯a cÃ¡c ná»n táº£ng khÃ¡c nhau nhÆ° <code>Windows</code> vÃ  <code>Linux</code> báº±ng cÃ¡ch sá»­ dá»¥ng giao thá»©c <code>SMB/CIFS</code>.</p>
<p>Thá»±c hiá»‡n cÃ¡c yÃªu cáº§u sau vÃ  Chá»¥p mÃ n hÃ¬nh minh hoáº¡<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.1</strong>. CÃ i Ä‘áº·t dá»‹ch vá»¥ <code>Samba</code>  báº±ng lá»‡nh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ yum <span class="token function">install</span> samba
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-18-16-Screenshot from 2021-05-09 11-04-12.png" alt="Screenshot from 2021-05-09 11-04-12.png"></p>
<p>==&gt; Báº¡n cÃ³ thá»ƒ gÃµ <code>samba --version</code> Ä‘á»ƒ kiá»ƒm tra Ä‘Ã£ cÃ i Ä‘áº·t chÆ°a.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.2</strong>. Táº¡o ngÆ°á»i dÃ¹ng vÃ  nhÃ³m ngÆ°á»i dÃ¹ng chia sáº» dá»¯ liá»‡u:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ adduser tuanthai
$ <span class="token function">passwd</span> tuanthai
$ <span class="token function">groupadd</span> lecturers
$ <span class="token function">usermod</span> -aG lecturers tuanthai
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-04-43-Screenshot from 2021-05-09 11-06-34.png" alt="Screenshot from 2021-05-09 11-06-34.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.3</strong>. Táº¡o thÆ° má»¥c cáº§n chia sáº» vÃ  phÃ¢n quyá»n :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">mkdir</span> /data
$ <span class="token function">chgrp</span> lecturers /data
$ <span class="token function">chmod</span> -R <span class="token number">775</span> /data
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-02-Screenshot from 2021-05-09 11-12-45.png" alt="Screenshot from 2021-05-09 11-12-45.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.4</strong>. Cáº¥u hÃ¬nh dá»‹ch vá»¥ <code>SAMBA</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/samba/smb.conf /etc/samba/smb.conf.orig
$ <span class="token function">nano</span> /etc/samba/smb.conf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">...
[data]
    comment = Shared folder for lecturers
    path = /data
    browsable = yes
    writable = yes
    read only = no
    valid users = @lecturers
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-49-Screenshot from 2021-05-09 11-16-49.png" alt="Screenshot from 2021-05-09 11-16-49.png"></p>
<blockquote>
<p>ğŸ’¡ Giáº£i thÃ­ch chi tiáº¿t :</p>
<ul>
<li>
<p><code>comment</code> : chÃº thÃ­ch</p>
</li>
<li>
<p><code>path</code> : Ä‘Æ°á»ng dáº«n Ä‘áº¿n thÆ° má»¥c cáº§n káº¿t ná»‘i <code>Samba</code></p>
</li>
<li>
<p><code>browsafe</code> : kiá»ƒm soÃ¡t viá»‡c chia sáº» file cÃ³ Ä‘Æ°á»£c nhÃ¬n tháº¥y trong cháº¿ Ä‘á»™ thá»±c</p>
</li>
<li>
<p><code>writable</code> : Cho phÃ©p ghi file (<em>Ä‘áº£o ngÆ°á»£c vá»›i <code>read only</code></em>)</p>
</li>
<li>
<p><code>read only</code>  : Chá»‰ cho phÃ©p Ä‘á»c (<em>Ä‘áº£o ngÆ°á»£c vá»›i <code>read only</code></em>)</p>
</li>
<li>
<p><code>valid users</code> : ngÆ°á»i dÃ¹ng cÃ³ hiá»‡u lá»±c</p>
</li>
</ul>
</blockquote>
<p>==&gt; Tham kháº£o cÃ¡ch <code>config</code> <a href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html" target="_blank" rel="noopener noreferrer">táº¡i Ä‘Ã¢y<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.5</strong>. ThÃªm ngÆ°á»i dÃ¹ng cho dá»‹ch vá»¥ <code>SAMBA</code> báº±ng lá»‡nh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ smbpasswd -a tuanthai
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-07-42-Screenshot from 2021-05-09 11-17-34.png" alt="Screenshot from 2021-05-09 11-17-34.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.6</strong>. Cáº¥u hÃ¬nh <code>SELINUX</code> cho phÃ©p <code>Samba</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ setsebool -P samba_export_all_rw on
$ setsebool -P samba_enable_home_dirs on
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<ul>
<li>
<p><code>samba_export_all_rw</code> : cho phÃ©p xuáº¥t báº¥t ká»³ <code>files</code> hay <code>diretories</code> nÃ o, cho phÃ©p quyá»n <strong>Ä‘á»c</strong> vÃ  <strong>ghi</strong></p>
</li>
<li>
<p><code>samba_enable_home_dirs on</code> : cho phÃ©p chia sáº» thÆ° má»¥c chÃ­nh cá»§a ngÆ°á»i dÃ¹ng</p>
</li>
</ul>
<p>==&gt; Tham kháº£o <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/managing_confined_services/sect-managing_confined_services-samba-booleans" target="_blank" rel="noopener noreferrer">táº¡i Ä‘Ã¢y<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.7</strong>. Táº¯t tÆ°á»ng lá»­a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.8</strong>. Khá»Ÿi Ä‘á»™ng láº¡i dá»‹ch vá»¥ <code>Samba</code> :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> smb start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-55-Screenshot from 2021-05-09 11-20-05.png" alt="Screenshot from 2021-05-09 11-20-05.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.9</strong>. TrÃªn mÃ¡y <code>Windows</code>, báº­t tÃ­nh nÄƒng há»— trá»£ <code>SMB1</code> :</p>
<p>Má»Ÿ <code>Control Panel</code> â <code>Programs</code> â <code>Turn Windows feature on or off</code> â <code>SMB 1.0/CIFS FIle Sharing Support</code> â Chá»n <code>SMB 1.0/CIFS Client</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-13-07-32-Screen Shot 2021-05-07 at 13.07.25.png" alt="Screen Shot 2021-05-07 at 13.07.25.png"></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>CÃ i <code>CentOS</code> trÃªn á»• cá»©ng, khÃ´ng sá»­ dá»¥ng mÃ¡y áº£o, nÃªn khÃ´ng lÃ m bÆ°á»›c nÃ y</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 2.10</strong>. TrÃªn <code>File Exployer</code>, chá»n tÃ­nh nÄƒng <code>Add a network location</code> Ä‘á»ƒ káº¿t ná»‘i tá»›i <code>Samba server</code> sá»­ dá»¥ng Ä‘á»‹a chá»‰ <code>\\&lt;IP mÃ¡y CentOS&gt;\data</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>Thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau Ä‘á»ƒ káº¿t ná»‘i giao thá»©c <code>Samba</code> trÃªn <code>CentOS</code> :</p>
<ul>
<li>
<p><strong>B1</strong>: VÃ o <code>Nautilus</code> (<em>hay cÃ²n gá»i lÃ  Finder</em>) â‡¨ Chá»n <code>Other Locations</code> â‡¨ Äiá»n <code>IP</code> cá»§a mÃ¡y cháº¡y <code>Samba</code> â‡¨ Chá»n <code>Connect</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-12-52-Screenshot from 2021-05-09 12-03-12.png" alt="Screenshot from 2021-05-09 12-03-12.png"></p>
</li>
<li>
<p><strong>B2</strong>: Chá»n <code>Registerd User</code> vÃ  Ä‘iá»n <em>tÃ i khoáº£n</em> vÃ  <em>máº­t kháº©u</em> Ä‘Äƒng kÃ½ <code>Samba</code> á»Ÿ trÃªn â‡¨ Chá»n <code>Connect</code></p>
<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-14-31-Screenshot from 2021-05-09 12-24-39.png" title="" alt="Screenshot from 2021-05-09 12-24-39.png" width="344">
</li>
<li>
<p><strong>B3</strong>: Báº¡n cÃ³ thá»ƒ táº¡o <code>file</code> (<em>vÃ­ dá»¥ táº¡o <code>file1</code> nhÆ° sau</em>)</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-16-48-Screenshot from 2021-05-09 12-19-10.png" alt="Screenshot from 2021-05-09 12-19-10.png"></p>
<blockquote>
<p>ğŸ’¡ VÃ o mÃ¡y káº¿t ná»‘i <code>Samba</code> kiá»ƒm tra nhÆ° sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-17-11-Screenshot from 2021-05-09 12-19-36.png" alt="Screenshot from 2021-05-09 12-19-36.png"></p>
<p>==&gt; NhÆ° Ä‘Ã£ tháº¥y <code>file1</code> Ä‘Ã£ xuáº¥t hiá»‡n</p>
</blockquote>
</li>
</ul>
</details>
<hr>
<h2 id="_3-cai-Ä‘at-va-cau-hinh-dich-vu-dns" tabindex="-1"><a class="header-anchor" href="#_3-cai-Ä‘at-va-cau-hinh-dich-vu-dns" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-49-54-icons8-dns.png" alt="icons8-dns.png" width="40"> 3. CÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh dá»‹ch vá»¥ <code>DNS</code></h2>
<p><code>DNS</code> (<em>Domain Name System</em>) lÃ  giáº£i phÃ¡p dÃ¹ng tÃªn miá»n thay cho Ä‘á»‹a chá»‰ <code>IP</code> khÃ³ nhá»› khi sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ máº¡ng. Truy cáº­p Ä‘áº¿n <code>website</code> cá»§a <code>Khoa CNTT-ÄH Cáº§n ThÆ¡</code> báº±ng Ä‘á»‹a chá»‰ nÃ o dá»… hÆ¡n ?</p>
<table>
<thead>
<tr>
<th>http://203.162.36.146</th>
<th>http://cit.ctu.edu.vn</th>
</tr>
</thead>
</table>
<p>Báº¡n cáº§n pháº£i cÃ i Ä‘áº·t pháº§n má»m <code>BIND</code> trÃªn <code>CentOS</code> Ä‘á»ƒ phÃ¢n giáº£i tÃªn miá»n <code>qtht.com.vn</code></p>
<p>Thá»±c hiá»‡n cÃ¡c yÃªu cáº§u sau vÃ  Chá»¥p mÃ n hÃ¬nh minh hoáº¡<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.1</strong>. CÃ i Ä‘áº·t <code>BIND</code> vÃ  cÃ¡c cÃ´ng cá»¥ cáº§n thiáº¿t :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ yum <span class="token function">install</span> <span class="token builtin class-name">bind</span> bind-utils
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-04-46-Screenshot from 2021-05-09 12-33-54.png" alt="Screenshot from 2021-05-09 12-33-54.png"></p>
<p>==&gt; Báº¡n cÃ³ thá»ƒ gÃµ <code>named -v</code> Ä‘á»ƒ kiá»ƒm tra <code>bind-utils</code> Ä‘Ã£ cÃ i chÆ°a.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.2</strong>. CÃ i hÃ¬nh <code>DNS server</code> :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">nano</span> /etc/named.conf 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">...
option {
    listen-on port 53 { 127.0.0.1; any;};
    ...
    allow-query    { localhost; any;};
    recursion yes;
    ...
};</span>

<span class="token phrase">loggin {
    ...
    };
};</span>

<span class="token phrase">zone "." IN {
    ...
};</span>

<span class="token phrase">zone "&lt;tÃªn miá»n>" IN {
    type master;
    file "forward.qtht";
    allow-update { none; };
};</span>

<span class="token phrase">zone "&lt;24bit máº¡ng Ä‘áº£o chiá»u>.in-addr.arpa" IN {
    type master;
    file "reverse.qtht";
    allow-update { none; };
};
...
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-10-02-Screenshot from 2021-05-09 12-36-20.png" alt="Screenshot from 2021-05-09 12-36-20.png"></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-28-17-Screenshot from 2021-05-09 13-17-02.png" alt="Screenshot from 2021-05-09 13-17-02.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.3</strong>. Táº¡o táº­p tin cáº¥u hÃ¬nh phÃ¢n giáº£i xuÃ´i:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/named.localhost /var/named/forward.qtht
$ <span class="token function">chgrp</span> named /var/named/forward.qtht
$ <span class="token function">nano</span> /var/named/forward.qtht
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">$TTL 1D
<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> &lt;tÃªn miá»n>. (
0     ;Serial
1D    ;Refresh
1H    ;Retry
1W    ;Expire
3H    ;Minimum TTL
)
@    IN    NS    dns.qtht.com.vn.
dns  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">></span></span>
<span class="token phrase">www  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">></span></span>
<span class="token phrase">htql IN    A    8.8.8.8
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-26-57-Screenshot from 2021-05-09 08-35-44.png" alt="Screenshot from 2021-05-09 08-35-44.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.4</strong>. Táº¡o táº­p tin cáº¥u hÃ¬nh phÃ¢n giáº£i ngÆ°á»£c :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/forward.qtht /var/named/reverse.qtht
$ <span class="token function">chgrp</span> named /var/named/reverse.qtht
$ <span class="token function">nano</span> /var/named/reverse.qtht
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">$TTL 1D
<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> qtht.com.vn. (
0    ;Serial
1D    ;Refresh
1H    ;Retry
1W    ;Expire
3H    ;Minimum TTL
)
@    IN   NS   dns.qtht.com.vn.
dns  IN   A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">mÃ¡y</span><span class="token punctuation">></span></span>
<span class="token phrase">245  IN   PTR  www.qtht.com.vn.
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-38-46-Screenshot from 2021-05-09 08-36-00.png" alt="Screenshot from 2021-05-09 08-36-00.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.5</strong>. Táº¯t tÆ°á»ng lá»­a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.6</strong>. Khá»Ÿi Ä‘á»™ng dá»‹ch vá»¥ <code>DNS</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> named start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-08-Screenshot from 2021-05-09 13-09-56.png" alt="Screenshot from 2021-05-09 13-09-56.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.7</strong>. Kiá»ƒm tra káº¿t quáº£</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ nslookip www.qtht.com.vn <span class="token operator">&lt;</span>Ä‘á»‹a chá»‰ IP mÃ¡y<span class="token operator">></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<ul>
<li>
<p>PhÃ¢n giáº£i xuÃ´i</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-53-Screenshot from 2021-05-09 08-38-46.png" alt="Screenshot from 2021-05-09 08-38-46.png"></p>
</li>
<li>
<p>PhÃ¢n giáº£i ngÆ°á»£c</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-41-47-Screenshot from 2021-05-09 08-38-37.png" alt="Screenshot from 2021-05-09 08-38-37.png"></p>
</li>
</ul>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 3.8</strong>. TrÃªn mÃ¡y váº­t lÃ½, cáº¥u hÃ¬nh <code>DNS Server</code> lÃ  <code>IP</code> cá»§a mÃ¡y áº£o <code>CentOS</code>. Sau Ä‘Ã³ má»Ÿ trÃ¬nh duyá»‡t <code>web</code> vÃ  truy cáº­p vÃ o Ä‘á»‹a chá»‰ <code>http://www.qtht.com.vn/myweb</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-42-52-Screenshot from 2021-05-09 08-33-53.png" alt="Screenshot from 2021-05-09 08-33-53.png"></p>
<blockquote>
<p>ğŸ’¡ CÅ©ng cÃ³ thá»ƒ dÃ¹ng Ä‘iá»‡n thoáº¡i Ä‘á»ƒ káº¿t ná»‘i (<em>YÃªu cáº§u xÃ i chung <code>Wifi</code> vÃ  thiáº¿t láº­p <code>DNS custom</code></em> )</p>
<p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="293"><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-48-19-8f08fed60ed2fb8ca2c3.png" alt="8f08fed60ed2fb8ca2c3.png" width="293"></p>
</blockquote>
</details>
<hr>
<h2 id="_4-cau-hinh-tuong-lua-iptables" tabindex="-1"><a class="header-anchor" href="#_4-cau-hinh-tuong-lua-iptables" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-50-15-icons8-firewall.png" alt="icons8-firewall.png" width="40"> 4. Cáº¥u hÃ¬nh tÆ°á»ng lá»­a <code>iptables</code></h2>
<p><code>iptables</code> lÃ  má»™t bá»™ cÃ´ng cá»¥ Ä‘Æ°á»£c tÃ­ch há»£p trÃªn há»‡ Ä‘iá»u hÃ nh <code>Linux</code> Ä‘á»ƒ thá»±c hiá»‡n chá»©c nÄƒng tÆ°á»ng lá»­a theo cÆ¡ cháº¿ lá»c gÃ³i tin (<code>package filtering</code>). <code>Iptables</code> theo dÃµi lÆ°u lÆ°á»£ng máº¡ng <strong>Ä‘áº¿n</strong> vÃ  <strong>Ä‘i</strong> cá»§a má»™t mÃ¡y tÃ­nh vÃ  lá»c nÃ³ dá»±a trÃªn cÃ¡c luáº­t (<code>rules</code>) do ngÆ°á»i dÃ¹ng tá»± Ä‘á»‹nh nghÄ©a trÆ°á»›c Ä‘Ã³.</p>
<p>Thá»±c hiá»‡n cÃ¡c yÃªu cáº§u sau vÃ  Chá»¥p mÃ n hÃ¬nh minh hoáº¡<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.1</strong>. Thá»±c thi tÆ°á»ng lá»­a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-55-08-Screenshot from 2021-05-09 09-13-04.png" alt="Screenshot from 2021-05-09 09-13-04.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.2</strong>. Hiá»ƒn thá»‹ cÃ¡c <code>rules</code> hiá»‡n cÃ³ trÃªn <code>iptables</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -v -L --line-numbers
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-56-01-Screenshot from 2021-05-09 09-18-28.png" alt="Screenshot from 2021-05-09 09-18-28.png"></p>
<blockquote>
<p>ğŸ’¡ Giáº£i thÃ­ch cá»¥ thá»ƒ :</p>
<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-57-56-iptables_filter.png" title="" alt="iptables_filter.png" width="525">
<table>
<thead>
<tr>
<th>Giáº£i thÃ­ch</th>
<th>INPUT</th>
<th>FORWARD</th>
<th>OUTPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trá»«u tÆ°á»£ng</td>
<td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i Ä‘áº¿n tá»« <code>route</code> Ä‘áº¿n <code>server</code> cá»§a báº¡n</td>
<td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i báº¯t nguá»“n tá»« <code>server</code> cá»§a báº¡n Ä‘áº¿n <code>nhÃ  máº¡ng</code></td>
<td>Kiá»ƒm soÃ¡t cÃ¡c gÃ³i Ä‘Æ°á»£c chuyá»ƒn tiáº¿p bá»Ÿi <code>server</code> cá»§a báº¡n</td>
</tr>
<tr>
<td>Dá»… hiá»ƒu</td>
<td>Lá»c cÃ¡c gÃ³i dÃ nh cho <code>server</code> cá»§ báº¡n</td>
<td>Lá»c cÃ¡c gÃ³i Ä‘áº¿n <code>server</code> cá»§a báº¡n mÃ  <code>card wifi</code> khÃ¡c cÃ³ thá»ƒ truy cáº­p</td>
<td>Lá»c cÃ¡c gÃ³i cÃ³ nguá»“n gá»‘c tá»« <code>server</code> cá»§a báº¡n</td>
</tr>
</tbody>
</table>
</blockquote>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.3</strong>. Táº¡o <code>rules</code> cho phÃ©p cÃ¡c mÃ¡y khÃ¡c truy cáº­p tá»›i dá»‹ch vá»¥ <code>Web</code> trÃªn <code>server</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -A INPUT -p tcp --dport <span class="token number">80</span> -j ACCEPT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>Tham kháº£o cÃ¡ch dÃ¹ng <code>iptables</code> cÄƒn báº£n <a href="https://hocvps.com/iptables/" target="_blank" rel="noopener noreferrer">táº¡i Ä‘Ã¢y<OutboundLink/></a></p>
<ul>
<li>
<p><strong>TrÆ°á»›c</strong> khi cho mÃ¡y khÃ¡c truy cáº­p vá»›i dá»‹ch vá»¥ <code>Web Server</code> :</p>
<img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-22-49-33363b9e5d9fa8c1f18e.png" alt="33363b9e5d9fa8c1f18e.png" width="229">
</li>
<li>
<p><strong>Sau</strong> khi cho mÃ¡y khÃ¡c truy cáº­p tá»›i dá»‹ch vá»¥ <code>Web Server</code> báº±ng lá»‡nh trÃªn :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-24-12-Screenshot from 2021-05-09 09-50-53.png" alt="Screenshot from 2021-05-09 09-50-53.png"></p>
<img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="227">
</li>
</ul>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.4</strong>. Táº¡o <code>rules</code> Ä‘á»ƒ cho mÃ¡y váº­t lÃ½ cÃ³ thá»ƒ <code>ping</code> tá»›i <code>server</code>, cÃ¡c mÃ¡y khÃ¡c <strong>KHÃ”NG</strong> <code>ping</code> Ä‘Æ°á»£c</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -I INPUT <span class="token number">2</span> -p icmp -s <span class="token operator">&lt;</span>IP cho phÃ©p<span class="token operator">></span> -j ACCEPT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>Sá»­ dá»¥ng <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-26-32-1406098-200.png" title="" alt="1406098-200.png" width="35"> <a href="https://termux.com/" target="_blank" rel="noopener noreferrer">Termux<OutboundLink/></a> cá»§a <code>Android</code> Ä‘á»ƒ thao tÃ¡c cÃ¡c lá»‡nh</p>
<blockquote>
<p>ğŸ¤” <code>Android</code> Ä‘ang sá»­ dá»¥ng chung máº¡ng <code>Wifi</code> cá»§a mÃ¡y dÃ¹ng <code>iptables</code> vÃ  cÃ³ IP nhÆ° sau : <code>192.168.10.101</code> (<em>riÃªng mÃ¡y nÃ y thÃ´i !</em>)</p>
</blockquote>
<ul>
<li>
<p>TrÆ°á»›c khi thiáº¿t láº­p <code>rules</code> cháº·n <code>ping</code>  :</p>
<ul>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8-android.png"><code>Android</code> sá»­ dá»¥ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-29-10-bd39e9ee27ead2b48bfb.jpeg" alt="bd39e9ee27ead2b48bfb.jpeg"></p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8-centos.png"> <code>CentOS</code> sá»­ dá»¥ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p>
</li>
</ul>
<p>==&gt; Cáº£ hai váº«n <code>ping</code> Ä‘Æ°á»£c</p>
</li>
<li>
<p><strong>Sau</strong> khi thiáº¿t láº­p <code>rules</code> cháº·n <code>ping</code> báº±ng lá»‡nh trÃªn :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-35-55-Screenshot from 2021-05-09 09-58-15.png" alt="Screenshot from 2021-05-09 09-58-15.png"></p>
<blockquote>
<p>ğŸ¤” <code>qtht.com.vn</code> tÆ°Æ¡ng Ä‘Æ°Æ¡ng <code>192.168.10.135</code> vÃ¬ Ä‘Ã£ cáº¥u hÃ¬nh <code>DNS</code> bÃªn trÃªn</p>
</blockquote>
<ul>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8androidpng"><code>Android</code> sá»­ dá»¥ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-34-38-3924f2fe3cfac9a490eb.png" alt="3924f2fe3cfac9a490eb.png"></p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8centospng"> <code>CentOS</code> sá»­ dá»¥ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p>
</li>
</ul>
</li>
</ul>
<p>==&gt; Sau khi thiáº¿t láº­p <code>rules</code> chá»‰ cÃ³ mÃ¡y cÃ³ <code>IP:192.168.10.135</code> lÃ  <code>ping</code> Ä‘Æ°á»£c Ä‘áº¿n <code>server</code>.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.5</strong>. Táº¡o <code>rules</code> Ä‘á»ƒ <strong>KHÃ”NG</strong> cho ngÆ°á»i dÃ¹ng trÃªn mÃ¡y <code>CentOS</code> truy cáº­p tá»›i Ä‘á»‹a chá»‰ <code>facebook.com</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -A OUTPUT -p tcp -m string --string facebook --algo kmp -j REJECT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>Sá»­ dá»¥ng lá»‡nh trÃªn Ä‘á»ƒ gá»­i gÃ³i truy cáº­p Ä‘áº¿n <code>server</code> cá»§a <code>Facebook</code> :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-32-04-Screenshot from 2021-05-09 10-13-39.png" alt="Screenshot from 2021-05-09 10-13-39.png"></p>
<p>==&gt; Sau khi Ä‘Ã£ Ã¡p dá»¥ng <code>rules</code> thÃ¬ chÃºng ta khÃ´ng thá»ƒ truy cáº­p <code>facebook</code> Ä‘Æ°á»£c ná»¯a :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-34-18-Screenshot from 2021-05-09 10-16-54.png" alt="Screenshot from 2021-05-09 10-16-54.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>CÃ¢u 4.6</strong>. LÆ°u vÃ  phá»¥c há»“i cÃ¡c <code>rules</code> cá»§a <code>iptables</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/sysconfig/iptables /etc/sysconfig/iptables.orig
$ iptables-save <span class="token operator">></span> /etc/sysconfig/iptables
$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Giáº£i</b></summary>
<br>
<p>TrÆ°á»›c khi táº¯t <code>iptables</code>, ta nÃªn <strong>sao lÆ°u</strong> (<em>backup</em>) láº¡i <code>rules</code> báº±ng lá»‡nh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables-save <span class="token operator">></span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<p>ğŸ¤” VÃ¬ sau khi <strong>táº¯t</strong> <code>iptables</code> vÃ  <strong>khá»Ÿi Ä‘á»™ng</strong> láº¡i, cÃ¡c <code>rules</code> thiáº¿t láº­p trÆ°á»›c Ä‘Ã³ sáº½ reset nhÆ° sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-37-00-Screenshot from 2021-05-09 10-20-30.png" alt="Screenshot from 2021-05-09 10-20-30.png"></p>
</blockquote>
<p>==&gt; Khi Ä‘Ã³ ta cÃ³ thá»ƒ <strong>khÃ´i phá»¥c</strong> (<em>restore</em>) láº¡i <code>rules</code> Ä‘Ã£ <strong>sao lÆ°u</strong> (<em>backup</em>) báº±ng lá»‡nh sau:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<p>ğŸ§š Káº¿t quáº£ nhÆ° sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-39-11-Screenshot from 2021-05-09 10-20-59.png" alt="Screenshot from 2021-05-09 10-20-59.png"></p>
<p>(<em>VÃ¬ mÃ¬nh Ä‘Ã£ xoÃ¡ <code>rules</code> cháº·n <code>facebook</code> trÆ°á»›c Ä‘Ã³ nÃªn khÃ´ng cÃ²n á»Ÿ OUTPUT ná»¯a</em>)</p>
</blockquote>
</details></template>
