<template><h1 id="samba-dns-va-firewall" tabindex="-1"><a class="header-anchor" href="#samba-dns-va-firewall" aria-hidden="true">#</a> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-46-11-icons8-dns.png" alt="icons8-dns.png"><code>SAMBA</code>, <code>DNS</code> v√† <code>Firewall</code> <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-45-59-icons8-firewall.png" alt="icons8-firewall.png"></h1>
<h2 id="_1-cai-ƒëat-centos" tabindex="-1"><a class="header-anchor" href="#_1-cai-ƒëat-centos" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/11-13-29-34-icons8-centos.png" alt="icons8-centos.png" width="40"> 1. C√†i ƒë·∫∑t CentOS</h2>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 1.1</strong> Th·ª±c hi·ªán c√†i ƒë·∫∑t <code>CentOS 6</code> (<em>ho·∫∑c <code>CentOS 7</code>, <code>8</code></em>) v√†o m√°y t√≠nh c√° nh√¢n (<em>ho·∫∑c m√°y ·∫£o</em>)</p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>Link file ISO <a href="https://www.centos.org/download/" target="_blank" rel="noopener noreferrer">CentOS 8<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 1.2</strong> C√†i ƒë·∫∑t d·ªãch v·ª• <code>Web Server</code> tr√™n m√°y ·∫£o. T·∫°o m·ªôt trang web ƒë∆°n gi·∫£n <code>index.html</code> l∆∞u v√†o th∆∞ m·ª•c <code>/var/www/html/myweb</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>ƒê√£ l√†m trong b√†i th·ª±c h√†nh <a href="https://github.com/Zenfection/CTU/blob/main/HocPhan/CT179-Quan_tri_he_thong/Thuchanh/buoi4.md" target="_blank" rel="noopener noreferrer">Bu·ªïi 4<OutboundLink/></a></p>
</details>
<hr>
<h2 id="_2-cai-ƒëat-va-cau-hinh-samba" tabindex="-1"><a class="header-anchor" href="#_2-cai-ƒëat-va-cau-hinh-samba" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-49-34-linux_windows.png" alt="linux_windows.png" width="40"> 2. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh <code>SAMBA</code></h2>
<p><code>Samba</code> l√† d·ªãch v·ª• chia s·∫ª <code>file</code> gi·ªØa c√°c n·ªÅn t·∫£ng kh√°c nhau nh∆∞ <code>Windows</code> v√† <code>Linux</code> b·∫±ng c√°ch s·ª≠ d·ª•ng giao th·ª©c <code>SMB/CIFS</code>.</p>
<p>Th·ª±c hi·ªán c√°c y√™u c·∫ßu sau v√† Ch·ª•p m√†n h√¨nh minh ho·∫°<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.1</strong>. C√†i ƒë·∫∑t d·ªãch v·ª• <code>Samba</code>  b·∫±ng l·ªánh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ yum <span class="token function">install</span> samba
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-18-16-Screenshot from 2021-05-09 11-04-12.png" alt="Screenshot from 2021-05-09 11-04-12.png"></p>
<p>==&gt; B·∫°n c√≥ th·ªÉ g√µ <code>samba --version</code> ƒë·ªÉ ki·ªÉm tra ƒë√£ c√†i ƒë·∫∑t ch∆∞a.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.2</strong>. T·∫°o ng∆∞·ªùi d√πng v√† nh√≥m ng∆∞·ªùi d√πng chia s·∫ª d·ªØ li·ªáu:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ adduser tuanthai
$ <span class="token function">passwd</span> tuanthai
$ <span class="token function">groupadd</span> lecturers
$ <span class="token function">usermod</span> -aG lecturers tuanthai
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-04-43-Screenshot from 2021-05-09 11-06-34.png" alt="Screenshot from 2021-05-09 11-06-34.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.3</strong>. T·∫°o th∆∞ m·ª•c c·∫ßn chia s·∫ª v√† ph√¢n quy·ªÅn :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">mkdir</span> /data
$ <span class="token function">chgrp</span> lecturers /data
$ <span class="token function">chmod</span> -R <span class="token number">775</span> /data
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-02-Screenshot from 2021-05-09 11-12-45.png" alt="Screenshot from 2021-05-09 11-12-45.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.4</strong>. C·∫•u h√¨nh d·ªãch v·ª• <code>SAMBA</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/samba/smb.conf /etc/samba/smb.conf.orig
$ <span class="token function">nano</span> /etc/samba/smb.conf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">...
[data]
    comment = Shared folder for lecturers
    path = /data
    browsable = yes
    writable = yes
    read only = no
    valid users = @lecturers
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-06-49-Screenshot from 2021-05-09 11-16-49.png" alt="Screenshot from 2021-05-09 11-16-49.png"></p>
<blockquote>
<p>üí° Gi·∫£i th√≠ch chi ti·∫øt :</p>
<ul>
<li>
<p><code>comment</code> : ch√∫ th√≠ch</p>
</li>
<li>
<p><code>path</code> : ƒë∆∞·ªùng d·∫´n ƒë·∫øn th∆∞ m·ª•c c·∫ßn k·∫øt n·ªëi <code>Samba</code></p>
</li>
<li>
<p><code>browsafe</code> : ki·ªÉm so√°t vi·ªác chia s·∫ª file c√≥ ƒë∆∞·ª£c nh√¨n th·∫•y trong ch·∫ø ƒë·ªô th·ª±c</p>
</li>
<li>
<p><code>writable</code> : Cho ph√©p ghi file (<em>ƒë·∫£o ng∆∞·ª£c v·ªõi <code>read only</code></em>)</p>
</li>
<li>
<p><code>read only</code>  : Ch·ªâ cho ph√©p ƒë·ªçc (<em>ƒë·∫£o ng∆∞·ª£c v·ªõi <code>read only</code></em>)</p>
</li>
<li>
<p><code>valid users</code> : ng∆∞·ªùi d√πng c√≥ hi·ªáu l·ª±c</p>
</li>
</ul>
</blockquote>
<p>==&gt; Tham kh·∫£o c√°ch <code>config</code> <a href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html" target="_blank" rel="noopener noreferrer">t·∫°i ƒë√¢y<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.5</strong>. Th√™m ng∆∞·ªùi d√πng cho d·ªãch v·ª• <code>SAMBA</code> b·∫±ng l·ªánh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ smbpasswd -a tuanthai
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-07-42-Screenshot from 2021-05-09 11-17-34.png" alt="Screenshot from 2021-05-09 11-17-34.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.6</strong>. C·∫•u h√¨nh <code>SELINUX</code> cho ph√©p <code>Samba</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ setsebool -P samba_export_all_rw on
$ setsebool -P samba_enable_home_dirs on
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<ul>
<li>
<p><code>samba_export_all_rw</code> : cho ph√©p xu·∫•t b·∫•t k·ª≥ <code>files</code> hay <code>diretories</code> n√†o, cho ph√©p quy·ªÅn <strong>ƒë·ªçc</strong> v√† <strong>ghi</strong></p>
</li>
<li>
<p><code>samba_enable_home_dirs on</code> : cho ph√©p chia s·∫ª th∆∞ m·ª•c ch√≠nh c·ªßa ng∆∞·ªùi d√πng</p>
</li>
</ul>
<p>==&gt; Tham kh·∫£o <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/managing_confined_services/sect-managing_confined_services-samba-booleans" target="_blank" rel="noopener noreferrer">t·∫°i ƒë√¢y<OutboundLink/></a></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.7</strong>. T·∫Øt t∆∞·ªùng l·ª≠a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.8</strong>. Kh·ªüi ƒë·ªông l·∫°i d·ªãch v·ª• <code>Samba</code> :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> smb start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-55-Screenshot from 2021-05-09 11-20-05.png" alt="Screenshot from 2021-05-09 11-20-05.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.9</strong>. Tr√™n m√°y <code>Windows</code>, b·∫≠t t√≠nh nƒÉng h·ªó tr·ª£ <code>SMB1</code> :</p>
<p>M·ªü <code>Control Panel</code> ‚ûû <code>Programs</code> ‚ûû <code>Turn Windows feature on or off</code> ‚ûû <code>SMB 1.0/CIFS FIle Sharing Support</code> ‚ûû Ch·ªçn <code>SMB 1.0/CIFS Client</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-13-07-32-Screen Shot 2021-05-07 at 13.07.25.png" alt="Screen Shot 2021-05-07 at 13.07.25.png"></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>C√†i <code>CentOS</code> tr√™n ·ªï c·ª©ng, kh√¥ng s·ª≠ d·ª•ng m√°y ·∫£o, n√™n kh√¥ng l√†m b∆∞·ªõc n√†y</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 2.10</strong>. Tr√™n <code>File Exployer</code>, ch·ªçn t√≠nh nƒÉng <code>Add a network location</code> ƒë·ªÉ k·∫øt n·ªëi t·ªõi <code>Samba server</code> s·ª≠ d·ª•ng ƒë·ªãa ch·ªâ <code>\\&lt;IP m√°y CentOS&gt;\data</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>Th·ª±c hi·ªán c√°c b∆∞·ªõc sau ƒë·ªÉ k·∫øt n·ªëi giao th·ª©c <code>Samba</code> tr√™n <code>CentOS</code> :</p>
<ul>
<li>
<p><strong>B1</strong>: V√†o <code>Nautilus</code> (<em>hay c√≤n g·ªçi l√† Finder</em>) ‚á® Ch·ªçn <code>Other Locations</code> ‚á® ƒêi·ªÅn <code>IP</code> c·ªßa m√°y ch·∫°y <code>Samba</code> ‚á® Ch·ªçn <code>Connect</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-12-52-Screenshot from 2021-05-09 12-03-12.png" alt="Screenshot from 2021-05-09 12-03-12.png"></p>
</li>
<li>
<p><strong>B2</strong>: Ch·ªçn <code>Registerd User</code> v√† ƒëi·ªÅn <em>t√†i kho·∫£n</em> v√† <em>m·∫≠t kh·∫©u</em> ƒëƒÉng k√Ω <code>Samba</code> ·ªü tr√™n ‚á® Ch·ªçn <code>Connect</code></p>
<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-14-31-Screenshot from 2021-05-09 12-24-39.png" title="" alt="Screenshot from 2021-05-09 12-24-39.png" width="344">
</li>
<li>
<p><strong>B3</strong>: B·∫°n c√≥ th·ªÉ t·∫°o <code>file</code> (<em>v√≠ d·ª• t·∫°o <code>file1</code> nh∆∞ sau</em>)</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-16-48-Screenshot from 2021-05-09 12-19-10.png" alt="Screenshot from 2021-05-09 12-19-10.png"></p>
<blockquote>
<p>üí° V√†o m√°y k·∫øt n·ªëi <code>Samba</code> ki·ªÉm tra nh∆∞ sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-17-11-Screenshot from 2021-05-09 12-19-36.png" alt="Screenshot from 2021-05-09 12-19-36.png"></p>
<p>==&gt; Nh∆∞ ƒë√£ th·∫•y <code>file1</code> ƒë√£ xu·∫•t hi·ªán</p>
</blockquote>
</li>
</ul>
</details>
<hr>
<h2 id="_3-cai-ƒëat-va-cau-hinh-dich-vu-dns" tabindex="-1"><a class="header-anchor" href="#_3-cai-ƒëat-va-cau-hinh-dich-vu-dns" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-49-54-icons8-dns.png" alt="icons8-dns.png" width="40"> 3. C√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• <code>DNS</code></h2>
<p><code>DNS</code> (<em>Domain Name System</em>) l√† gi·∫£i ph√°p d√πng t√™n mi·ªÅn thay cho ƒë·ªãa ch·ªâ <code>IP</code> kh√≥ nh·ªõ khi s·ª≠ d·ª•ng c√°c d·ªãch v·ª• m·∫°ng. Truy c·∫≠p ƒë·∫øn <code>website</code> c·ªßa <code>Khoa CNTT-ƒêH C·∫ßn Th∆°</code> b·∫±ng ƒë·ªãa ch·ªâ n√†o d·ªÖ h∆°n ?</p>
<table>
<thead>
<tr>
<th>http://203.162.36.146</th>
<th>http://cit.ctu.edu.vn</th>
</tr>
</thead>
</table>
<p>B·∫°n c·∫ßn ph·∫£i c√†i ƒë·∫∑t ph·∫ßn m·ªÅm <code>BIND</code> tr√™n <code>CentOS</code> ƒë·ªÉ ph√¢n gi·∫£i t√™n mi·ªÅn <code>qtht.com.vn</code></p>
<p>Th·ª±c hi·ªán c√°c y√™u c·∫ßu sau v√† Ch·ª•p m√†n h√¨nh minh ho·∫°<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.1</strong>. C√†i ƒë·∫∑t <code>BIND</code> v√† c√°c c√¥ng c·ª• c·∫ßn thi·∫øt :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ yum <span class="token function">install</span> <span class="token builtin class-name">bind</span> bind-utils
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-04-46-Screenshot from 2021-05-09 12-33-54.png" alt="Screenshot from 2021-05-09 12-33-54.png"></p>
<p>==&gt; B·∫°n c√≥ th·ªÉ g√µ <code>named -v</code> ƒë·ªÉ ki·ªÉm tra <code>bind-utils</code> ƒë√£ c√†i ch∆∞a.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.2</strong>. C√†i h√¨nh <code>DNS server</code> :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">nano</span> /etc/named.conf 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">...
option {
    listen-on port 53 { 127.0.0.1; any;};
    ...
    allow-query    { localhost; any;};
    recursion yes;
    ...
};</span>

<span class="token phrase">loggin {
    ...
    };
};</span>

<span class="token phrase">zone "." IN {
    ...
};</span>

<span class="token phrase">zone "&lt;t√™n mi·ªÅn>" IN {
    type master;
    file "forward.qtht";
    allow-update { none; };
};</span>

<span class="token phrase">zone "&lt;24bit m·∫°ng ƒë·∫£o chi·ªÅu>.in-addr.arpa" IN {
    type master;
    file "reverse.qtht";
    allow-update { none; };
};
...
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-10-02-Screenshot from 2021-05-09 12-36-20.png" alt="Screenshot from 2021-05-09 12-36-20.png"></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-28-17-Screenshot from 2021-05-09 13-17-02.png" alt="Screenshot from 2021-05-09 13-17-02.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.3</strong>. T·∫°o t·∫≠p tin c·∫•u h√¨nh ph√¢n gi·∫£i xu√¥i:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/named.localhost /var/named/forward.qtht
$ <span class="token function">chgrp</span> named /var/named/forward.qtht
$ <span class="token function">nano</span> /var/named/forward.qtht
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">$TTL 1D
<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> &lt;t√™n mi·ªÅn>. (
0     ;Serial
1D    ;Refresh
1H    ;Retry
1W    ;Expire
3H    ;Minimum TTL
)
@    IN    NS    dns.qtht.com.vn.
dns  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">></span></span>
<span class="token phrase">www  IN    A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">></span></span>
<span class="token phrase">htql IN    A    8.8.8.8
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-26-57-Screenshot from 2021-05-09 08-35-44.png" alt="Screenshot from 2021-05-09 08-35-44.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.4</strong>. T·∫°o t·∫≠p tin c·∫•u h√¨nh ph√¢n gi·∫£i ng∆∞·ª£c :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /var/named/forward.qtht /var/named/reverse.qtht
$ <span class="token function">chgrp</span> named /var/named/reverse.qtht
$ <span class="token function">nano</span> /var/named/reverse.qtht
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote>
<div class="language-textile ext-textile line-numbers-mode"><pre v-pre class="language-textile"><code><span class="token phrase">$TTL 1D
<span class="token inline"><span class="token punctuation">@</span><span class="token code keyword">   IN  SOA </span><span class="token punctuation">@</span></span> qtht.com.vn. (
0    ;Serial
1D    ;Refresh
1H    ;Retry
1W    ;Expire
3H    ;Minimum TTL
)
@    IN   NS   dns.qtht.com.vn.
dns  IN   A    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IP</span> <span class="token attr-name">m√°y</span><span class="token punctuation">></span></span>
<span class="token phrase">245  IN   PTR  www.qtht.com.vn.
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></blockquote>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-38-46-Screenshot from 2021-05-09 08-36-00.png" alt="Screenshot from 2021-05-09 08-36-00.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.5</strong>. T·∫Øt t∆∞·ªùng l·ª≠a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables stop
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-18-10-12-Screenshot from 2021-05-09 11-19-36.png" alt="Screenshot from 2021-05-09 11-19-36.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.6</strong>. Kh·ªüi ƒë·ªông d·ªãch v·ª• <code>DNS</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> named start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-08-Screenshot from 2021-05-09 13-09-56.png" alt="Screenshot from 2021-05-09 13-09-56.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.7</strong>. Ki·ªÉm tra k·∫øt qu·∫£</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ nslookip www.qtht.com.vn <span class="token operator">&lt;</span>ƒë·ªãa ch·ªâ IP m√°y<span class="token operator">></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<ul>
<li>
<p>Ph√¢n gi·∫£i xu√¥i</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-40-53-Screenshot from 2021-05-09 08-38-46.png" alt="Screenshot from 2021-05-09 08-38-46.png"></p>
</li>
<li>
<p>Ph√¢n gi·∫£i ng∆∞·ª£c</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-41-47-Screenshot from 2021-05-09 08-38-37.png" alt="Screenshot from 2021-05-09 08-38-37.png"></p>
</li>
</ul>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 3.8</strong>. Tr√™n m√°y v·∫≠t l√Ω, c·∫•u h√¨nh <code>DNS Server</code> l√† <code>IP</code> c·ªßa m√°y ·∫£o <code>CentOS</code>. Sau ƒë√≥ m·ªü tr√¨nh duy·ªát <code>web</code> v√† truy c·∫≠p v√†o ƒë·ªãa ch·ªâ <code>http://www.qtht.com.vn/myweb</code></p>
</blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-42-52-Screenshot from 2021-05-09 08-33-53.png" alt="Screenshot from 2021-05-09 08-33-53.png"></p>
<blockquote>
<p>üí° C≈©ng c√≥ th·ªÉ d√πng ƒëi·ªán tho·∫°i ƒë·ªÉ k·∫øt n·ªëi (<em>Y√™u c·∫ßu x√†i chung <code>Wifi</code> v√† thi·∫øt l·∫≠p <code>DNS custom</code></em> )</p>
<p><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="293"><img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-48-19-8f08fed60ed2fb8ca2c3.png" alt="8f08fed60ed2fb8ca2c3.png" width="293"></p>
</blockquote>
</details>
<hr>
<h2 id="_4-cau-hinh-tuong-lua-iptables" tabindex="-1"><a class="header-anchor" href="#_4-cau-hinh-tuong-lua-iptables" aria-hidden="true">#</a> <img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/07-12-50-15-icons8-firewall.png" alt="icons8-firewall.png" width="40"> 4. C·∫•u h√¨nh t∆∞·ªùng l·ª≠a <code>iptables</code></h2>
<p><code>iptables</code> l√† m·ªôt b·ªô c√¥ng c·ª• ƒë∆∞·ª£c t√≠ch h·ª£p tr√™n h·ªá ƒëi·ªÅu h√†nh <code>Linux</code> ƒë·ªÉ th·ª±c hi·ªán ch·ª©c nƒÉng t∆∞·ªùng l·ª≠a theo c∆° ch·∫ø l·ªçc g√≥i tin (<code>package filtering</code>). <code>Iptables</code> theo d√µi l∆∞u l∆∞·ª£ng m·∫°ng <strong>ƒë·∫øn</strong> v√† <strong>ƒëi</strong> c·ªßa m·ªôt m√°y t√≠nh v√† l·ªçc n√≥ d·ª±a tr√™n c√°c lu·∫≠t (<code>rules</code>) do ng∆∞·ªùi d√πng t·ª± ƒë·ªãnh nghƒ©a tr∆∞·ªõc ƒë√≥.</p>
<p>Th·ª±c hi·ªán c√°c y√™u c·∫ßu sau v√† Ch·ª•p m√†n h√¨nh minh ho·∫°<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/17-20-16-22-icons8-screenshot.png" alt="icons8screenshotpng"></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.1</strong>. Th·ª±c thi t∆∞·ªùng l·ª≠a</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">service</span> iptables start
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-55-08-Screenshot from 2021-05-09 09-13-04.png" alt="Screenshot from 2021-05-09 09-13-04.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.2</strong>. Hi·ªÉn th·ªã c√°c <code>rules</code> hi·ªán c√≥ tr√™n <code>iptables</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -v -L --line-numbers
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-56-01-Screenshot from 2021-05-09 09-18-28.png" alt="Screenshot from 2021-05-09 09-18-28.png"></p>
<blockquote>
<p>üí° Gi·∫£i th√≠ch c·ª• th·ªÉ :</p>
<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-57-56-iptables_filter.png" title="" alt="iptables_filter.png" width="525">
<table>
<thead>
<tr>
<th>Gi·∫£i th√≠ch</th>
<th>INPUT</th>
<th>FORWARD</th>
<th>OUTPUT</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tr·ª´u t∆∞·ª£ng</td>
<td>Ki·ªÉm so√°t c√°c g√≥i ƒë·∫øn t·ª´ <code>route</code> ƒë·∫øn <code>server</code> c·ªßa b·∫°n</td>
<td>Ki·ªÉm so√°t c√°c g√≥i b·∫Øt ngu·ªìn t·ª´ <code>server</code> c·ªßa b·∫°n ƒë·∫øn <code>nh√† m·∫°ng</code></td>
<td>Ki·ªÉm so√°t c√°c g√≥i ƒë∆∞·ª£c chuy·ªÉn ti·∫øp b·ªüi <code>server</code> c·ªßa b·∫°n</td>
</tr>
<tr>
<td>D·ªÖ hi·ªÉu</td>
<td>L·ªçc c√°c g√≥i d√†nh cho <code>server</code> c·ªß b·∫°n</td>
<td>L·ªçc c√°c g√≥i ƒë·∫øn <code>server</code> c·ªßa b·∫°n m√† <code>card wifi</code> kh√°c c√≥ th·ªÉ truy c·∫≠p</td>
<td>L·ªçc c√°c g√≥i c√≥ ngu·ªìn g·ªëc t·ª´ <code>server</code> c·ªßa b·∫°n</td>
</tr>
</tbody>
</table>
</blockquote>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.3</strong>. T·∫°o <code>rules</code> cho ph√©p c√°c m√°y kh√°c truy c·∫≠p t·ªõi d·ªãch v·ª• <code>Web</code> tr√™n <code>server</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -A INPUT -p tcp --dport <span class="token number">80</span> -j ACCEPT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>Tham kh·∫£o c√°ch d√πng <code>iptables</code> cƒÉn b·∫£n <a href="https://hocvps.com/iptables/" target="_blank" rel="noopener noreferrer">t·∫°i ƒë√¢y<OutboundLink/></a></p>
<ul>
<li>
<p><strong>Tr∆∞·ªõc</strong> khi cho m√°y kh√°c truy c·∫≠p v·ªõi d·ªãch v·ª• <code>Web Server</code> :</p>
<img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-22-49-33363b9e5d9fa8c1f18e.png" alt="33363b9e5d9fa8c1f18e.png" width="229">
</li>
<li>
<p><strong>Sau</strong> khi cho m√°y kh√°c truy c·∫≠p t·ªõi d·ªãch v·ª• <code>Web Server</code> b·∫±ng l·ªánh tr√™n :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-24-12-Screenshot from 2021-05-09 09-50-53.png" alt="Screenshot from 2021-05-09 09-50-53.png"></p>
<img title="" src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/09-23-47-58-a4d2f03b003ff561ac2e.png" alt="a4d2f03b003ff561ac2e.png" width="227">
</li>
</ul>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.4</strong>. T·∫°o <code>rules</code> ƒë·ªÉ cho m√°y v·∫≠t l√Ω c√≥ th·ªÉ <code>ping</code> t·ªõi <code>server</code>, c√°c m√°y kh√°c <strong>KH√îNG</strong> <code>ping</code> ƒë∆∞·ª£c</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -I INPUT <span class="token number">2</span> -p icmp -s <span class="token operator">&lt;</span>IP cho ph√©p<span class="token operator">></span> -j ACCEPT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>S·ª≠ d·ª•ng <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-26-32-1406098-200.png" title="" alt="1406098-200.png" width="35"> <a href="https://termux.com/" target="_blank" rel="noopener noreferrer">Termux<OutboundLink/></a> c·ªßa <code>Android</code> ƒë·ªÉ thao t√°c c√°c l·ªánh</p>
<blockquote>
<p>ü§î <code>Android</code> ƒëang s·ª≠ d·ª•ng chung m·∫°ng <code>Wifi</code> c·ªßa m√°y d√πng <code>iptables</code> v√† c√≥ IP nh∆∞ sau : <code>192.168.10.101</code> (<em>ri√™ng m√°y n√†y th√¥i !</em>)</p>
</blockquote>
<ul>
<li>
<p>Tr∆∞·ªõc khi thi·∫øt l·∫≠p <code>rules</code> ch·∫∑n <code>ping</code>  :</p>
<ul>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8-android.png"><code>Android</code> s·ª≠ d·ª•ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-29-10-bd39e9ee27ead2b48bfb.jpeg" alt="bd39e9ee27ead2b48bfb.jpeg"></p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8-centos.png"> <code>CentOS</code> s·ª≠ d·ª•ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p>
</li>
</ul>
<p>==&gt; C·∫£ hai v·∫´n <code>ping</code> ƒë∆∞·ª£c</p>
</li>
<li>
<p><strong>Sau</strong> khi thi·∫øt l·∫≠p <code>rules</code> ch·∫∑n <code>ping</code> b·∫±ng l·ªánh tr√™n :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-35-55-Screenshot from 2021-05-09 09-58-15.png" alt="Screenshot from 2021-05-09 09-58-15.png"></p>
<blockquote>
<p>ü§î <code>qtht.com.vn</code> t∆∞∆°ng ƒë∆∞∆°ng <code>192.168.10.135</code> v√¨ ƒë√£ c·∫•u h√¨nh <code>DNS</code> b√™n tr√™n</p>
</blockquote>
<ul>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-23-icons8-android.png" alt="icons8androidpng"><code>Android</code> s·ª≠ d·ª•ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-34-38-3924f2fe3cfac9a490eb.png" alt="3924f2fe3cfac9a490eb.png"></p>
</li>
<li>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-31-36-icons8-centos.png" alt="icons8centospng"> <code>CentOS</code> s·ª≠ d·ª•ng <code>ping</code></p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-00-30-42-Screenshot from 2021-05-09 09-54-50.png" alt="Screenshot from 2021-05-09 09-54-50.png"></p>
</li>
</ul>
</li>
</ul>
<p>==&gt; Sau khi thi·∫øt l·∫≠p <code>rules</code> ch·ªâ c√≥ m√°y c√≥ <code>IP:192.168.10.135</code> l√† <code>ping</code> ƒë∆∞·ª£c ƒë·∫øn <code>server</code>.</p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.5</strong>. T·∫°o <code>rules</code> ƒë·ªÉ <strong>KH√îNG</strong> cho ng∆∞·ªùi d√πng tr√™n m√°y <code>CentOS</code> truy c·∫≠p t·ªõi ƒë·ªãa ch·ªâ <code>facebook.com</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables -A OUTPUT -p tcp -m string --string facebook --algo kmp -j REJECT
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>S·ª≠ d·ª•ng l·ªánh tr√™n ƒë·ªÉ g·ª≠i g√≥i truy c·∫≠p ƒë·∫øn <code>server</code> c·ªßa <code>Facebook</code> :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-32-04-Screenshot from 2021-05-09 10-13-39.png" alt="Screenshot from 2021-05-09 10-13-39.png"></p>
<p>==&gt; Sau khi ƒë√£ √°p d·ª•ng <code>rules</code> th√¨ ch√∫ng ta kh√¥ng th·ªÉ truy c·∫≠p <code>facebook</code> ƒë∆∞·ª£c n·ªØa :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-34-18-Screenshot from 2021-05-09 10-16-54.png" alt="Screenshot from 2021-05-09 10-16-54.png"></p>
</details>
<blockquote>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/04/08-22-03-47-icons8-questions.png" alt="icons8questionspng"> <strong>C√¢u 4.6</strong>. L∆∞u v√† ph·ª•c h·ªìi c√°c <code>rules</code> c·ªßa <code>iptables</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">cp</span> /etc/sysconfig/iptables /etc/sysconfig/iptables.orig
$ iptables-save <span class="token operator">></span> /etc/sysconfig/iptables
$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></blockquote>
<details>
<summary><b><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/03/08-16-44-05-icons8-consultation.png" width ="40"> Gi·∫£i</b></summary>
<br>
<p>Tr∆∞·ªõc khi t·∫Øt <code>iptables</code>, ta n√™n <strong>sao l∆∞u</strong> (<em>backup</em>) l·∫°i <code>rules</code> b·∫±ng l·ªánh :</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables-save <span class="token operator">></span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<p>ü§î V√¨ sau khi <strong>t·∫Øt</strong> <code>iptables</code> v√† <strong>kh·ªüi ƒë·ªông</strong> l·∫°i, c√°c <code>rules</code> thi·∫øt l·∫≠p tr∆∞·ªõc ƒë√≥ s·∫Ω reset nh∆∞ sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-37-00-Screenshot from 2021-05-09 10-20-30.png" alt="Screenshot from 2021-05-09 10-20-30.png"></p>
</blockquote>
<p>==&gt; Khi ƒë√≥ ta c√≥ th·ªÉ <strong>kh√¥i ph·ª•c</strong> (<em>restore</em>) l·∫°i <code>rules</code> ƒë√£ <strong>sao l∆∞u</strong> (<em>backup</em>) b·∫±ng l·ªánh sau:</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ iptables-restore <span class="token operator">&lt;</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote>
<p>üßö K·∫øt qu·∫£ nh∆∞ sau :</p>
<p><img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/05/10-10-39-11-Screenshot from 2021-05-09 10-20-59.png" alt="Screenshot from 2021-05-09 10-20-59.png"></p>
<p>(<em>V√¨ m√¨nh ƒë√£ xo√° <code>rules</code> ch·∫∑n <code>facebook</code> tr∆∞·ªõc ƒë√≥ n√™n kh√¥ng c√≤n ·ªü OUTPUT n·ªØa</em>)</p>
</blockquote>
</details></template>
